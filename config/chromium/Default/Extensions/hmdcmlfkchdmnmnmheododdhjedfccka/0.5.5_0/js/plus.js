!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2)}({2:function(e,t){let o=void 0,n=void 0,r=void 0,s=void 0,l=void 0,u=void 0;var a;function i(){o.bg.plus()?(r.style.display="none",s.style.display="block","free"!=o.bg.plus()&&"donation"!=o.bg.plus()&&(l.innerHTML=o.bg.plus()[0].toUpperCase()+o.bg.plus().slice(1)+" Patron",l.className="pa2 b white bg-"+o.bg.plusColor())):(r.style.display="block",s.style.display="none")}function c(e){i(),google.payments.inapp.getSkuDetails({parameters:{env:"prod"},success:y,failure:e=>{"TOKEN_MISSING_ERROR"==e.response.errorType?n.innerHTML='<p class="bg-light-red pa3 b">You have to <a href="https://support.google.com/chrome/answer/185277" target="_blank">Sign-in to Chrome</a> to be able to purchase Plus version.</p>':n.innerHTML="Can't connect to Chrome Web Store now"}})}function p(e){for(let t of e.response.details)o.bg.plus()===t.sku?"ACTIVE"!==t.state&&"PENDING"!==t.state&&d():"ACTIVE"!==t.state&&"PENDING"!==t.state||f(t.sku)}function d(){o.bg.lockPlus(),i()}function f(e){o.bg.unlockPlus(e),i()}function b(e){let t=e.prices[0].valueMicros/1e6,n=e.prices[0].currencyCode,r=new Intl.NumberFormat(void 0,{style:"currency",currency:n}).format(t),s=e.localeData[0].title;e.localeData[0].description;return`<div id="${e.sku}" class="product cf pa2 mb1 bg-${o.bg.plusColor(e.sku)}"><span class="fl f5 b white w-50">${s}</span><button class="dib fr w-50 tr">Unlock for ${r}</button></div>`}function g(e){f("patron")}function m(e){u.innerHTML="Sorry, purchase from Google Store failed. Please try again or use donate option.",u.className+="pa3 bg-yellow red mb2 b",o.bg.settings.plus=!1}function y(e){google.payments.inapp.getPurchases({parameters:{env:"prod"},success:p,failure:e=>{}});let t="";e.response.details.inAppProducts.sort((e,t)=>t.prices[0].valueMicros-e.prices[0].valueMicros);for(let o of e.response.details.inAppProducts)t+=b(o);n.innerHTML=t;for(let e of document.getElementsByClassName("product"))e.onclick=()=>{var t;t=e.id,google.payments.inapp.buy({parameters:{env:"prod"},sku:t,success:g,failure:m})}}a=function(){n=document.getElementById("edplus-products"),r=document.getElementById("plus-locked"),s=document.getElementById("plus-unlocked"),l=document.getElementById("plus-type"),u=document.getElementById("edplus-failed"),chrome.runtime.getBackgroundPage(e=>{o=e,void 0===o.bg.version||o.bg.version<14?(chrome.runtime.sendMessage({type:"reload-background"}),setTimeout(c,1e3)):c()}),$("#donate-bitcoin").coinTipper({type:"donate",currency:"bitcoin",iso:"BTC",address:"19HekXcETbG8VWdywbEkKxzxp4fFm5YCUc",label:"Eye Dropper"}),document.getElementById("unlock-free").onclick=()=>{f("free")},document.getElementById("unlock-donations").onclick=()=>{f("donation")}},"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)}});