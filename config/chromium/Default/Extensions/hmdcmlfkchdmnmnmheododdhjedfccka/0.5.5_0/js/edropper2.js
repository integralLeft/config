!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(5),r=o(6),i=o(7),s=o(9);var a={width:0,height:0,screenWidth:0,screenHeight:0,xOffset:0,yOffset:0,overlay:null,options:{cursor:"default",enableColorToolbox:!0,enableColorTooltip:!0,enableRightClickDeactivate:!0},canvas:null,canvasData:null,canvasContext:null,canvasBorders:20,imageData:null,resetCanvas:!0,rects:[],screenshoting:!1,dropperActivated:!1,defaults:function(){a.screenWidth=window.innerWidth,a.screenHeight=window.innerHeight,a.canvas=document.createElement("canvas"),a.resetCanvas=!0,a.rects=[],a.screenshoting=!1,a.width=Math.round(document.documentElement.scrollWidth),a.height=Math.round(document.documentElement.scrollHeight),a.width>32747&&(a.width=32747),a.height>32747&&(a.height=32747)},messageListener:function(){chrome.runtime.onMessage.addListener((function(e,t,o){switch(e.type){case"edropper-version":o({version:12,tabid:e.tabid});break;case"pickup-activate":a.options=e.options,a.dropperActivate();break;case"pickup-deactivate":a.dropperDeactivate();break;case"update-image":a.imageData=e.data,a.capture()}}))},sendMessage:function(e){chrome.runtime.connect().postMessage(e)},dropperActivate:function(){a.dropperActivated||(a.defaults(),a.overlay=new i.default({width:a.width,height:a.height,enableToolbox:a.options.enableColorToolbox,enableTooltip:a.options.enableColorTooltip,cursor:a.options.cursor}),a.dropperActivated=!0,a.screenChanged(),r.default(a.onScrollStop),document.addEventListener("mousemove",a.onMouseMove,!1),document.addEventListener("click",a.onMouseClick,!1),!0===a.options.enableRightClickDeactivate&&document.addEventListener("contextmenu",a.onContextMenu,!1),a.shortcuts(!0))},dropperDeactivate:function(){a.dropperActivated&&(a.shortcuts(!1),a.dropperActivated=!1,document.removeEventListener("mousemove",a.onMouseMove,!1),document.removeEventListener("click",a.onMouseClick,!1),!0===a.options.enableRightClickDeactivate&&document.removeEventListener("contextmenu",a.onContextMenu,!1),r.default(a.onScrollStop,"stop"),a.overlay.deactivate())},onMouseMove:function(e){a.dropperActivated&&a.tooltip(e)},onMouseClick:function(e){a.dropperActivated&&(e.preventDefault(),a.dropperDeactivate(),a.sendMessage({type:"set-color",color:a.pickColor(e.pageX,e.pageY)}))},onScrollStop:function(){a.dropperActivated&&a.screenChanged()},onScrollStart:function(){a.dropperActivated},shortcuts:function(e){1==e?(n.default.add("Esc",(function(e){a.dropperDeactivate()})),n.default.add("U",(function(e){a.screenChanged(!0)}))):(n.default.remove("U"),n.default.remove("Esc"))},onContextMenu:function(e){a.dropperActivated&&(e.preventDefault(),a.dropperDeactivate())},onWindowResize:function(){a.dropperActivated&&(a.defaults(),a.screenChanged(),a.overlay.resized({width:a.width,height:a.height}))},tooltip:function(e){if(!a.dropperActivated||a.screenshoting)return;const t=e.pageX,o=e.pageY;var n=a.pickColor(t,o);a.overlay.tooltip({screenWidth:a.screenWidth,screenHeight:a.screenHeight,x:t,y:o,color:n})},pickColor:function(e,t){if(null===a.canvasData)return;const o=t*a.canvas.width*4+4*e;let n={r:a.canvasData[o],g:a.canvasData[o+1],b:a.canvasData[o+2],alpha:a.canvasData[o+3]};return n.rgbhex=a.rgbToHex(n.r,n.g,n.b),n.opposite=a.rgbToHex(255-n.r,255-n.g,255-n.b),n},toHex:function(e){if(void 0===e)return"FF";for(var t=e.toString(16);t.length<2;)t="0"+t;return t},rgbToHex:function(e,t,o){return a.toHex(e)+a.toHex(t)+a.toHex(o)},checkCanvas:function(){const e=window.devicePixelRatio;(a.resetCanvas||a.canvas.width!=a.width||a.canvas.height!=a.height)&&(a.canvas=document.createElement("canvas"),a.canvas.width=a.width,a.canvas.height=a.height,a.canvasContext=a.canvas.getContext("2d"),a.canvasContext.scale(1/e,1/e),a.rects=[],a.resetCanvas=!1)},setScreenshoting:function(e){a.screenshoting&&e||(a.screenshoting=e,a.overlay.screenshoting(e))},screenChanged:function(e=!1){if(!a.dropperActivated)return;a.yOffset=Math.round(document.documentElement.scrollTop),a.xOffset=Math.round(document.documentElement.scrollLeft);const t=new s.default(a.xOffset,a.yOffset,a.screenWidth,a.screenHeight);if(!e&&a.rects.length>0)for(let e of a.rects)if(e.contains(t))return;a.setScreenshoting(!0),setTimeout((function(){a.sendMessage({type:"screenshot"})}),50)},updateRects:function(e){if(0===a.rects.length)return void a.rects.push(e);let t=!1;a.rects.forEach((o,n)=>{let r=e.merge(o);null!==r&&(t=!0,a.rects.splice(n,1),a.updateRects(r))}),t||a.rects.push(e)},capture:function(){a.checkCanvas();var e=document.createElement("img");e.onload=function(){const t=new s.default(a.xOffset,a.yOffset,Math.round(e.width/window.devicePixelRatio),Math.round(e.height/window.devicePixelRatio));a.updateRects(t);const o=window.devicePixelRatio,n=a.xOffset*o,r=a.yOffset*o;a.canvasContext.drawImage(e,n,r),a.canvasData=a.canvasContext.getImageData(0,0,a.canvas.width,a.canvas.height).data,a.setScreenshoting(!1)},a.imageData&&(e.src=a.imageData)},init:function(){a.messageListener(),window.onresize=function(){a.onWindowResize()};const e=`(resolution: ${window.devicePixelRatio}dppx)`;matchMedia(e).addListener(a.onWindowResize)}};a.init()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={all_shortcuts:{},add:function(e,t,o={}){const n={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:void 0};let r=(o=Object.assign({},n,o)).target;"string"==typeof o.target&&(r=document.getElementById(o.target)),e=e.toLowerCase();let i=function(n){if(n=n||window.event,o.disable_in_input){let e;if(n.target?e=n.target:n.srcElement&&(e=n.srcElement),3==e.nodeType&&(e=e.parentNode),"INPUT"==e.tagName||"TEXTAREA"==e.tagName)return}let r;n.keyCode?r=n.keyCode:n.which&&(r=n.which);let i=String.fromCharCode(r).toLowerCase();188==r&&(i=","),190==r&&(i=".");let s=e.split("+"),a=0,c={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},l={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},d={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};n.ctrlKey&&(d.ctrl.pressed=!0),n.shiftKey&&(d.shift.pressed=!0),n.altKey&&(d.alt.pressed=!0),n.metaKey&&(d.meta.pressed=!0);for(let e of s)"ctrl"==e||"control"==e?(a++,d.ctrl.wanted=!0):"shift"==e?(a++,d.shift.wanted=!0):"alt"==e?(a++,d.alt.wanted=!0):"meta"==e?(a++,d.meta.wanted=!0):e.length>1?l[e]==r&&a++:o.keycode?o.keycode==r&&a++:i==e?a++:c[i]&&n.shiftKey&&(i=c[i],i==e&&a++);if(a==s.length&&d.ctrl.pressed==d.ctrl.wanted&&d.shift.pressed==d.shift.wanted&&d.alt.pressed==d.alt.wanted&&d.meta.pressed==d.meta.wanted&&(t(n),!o.propagate))return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation&&(n.stopPropagation(),n.preventDefault()),!1};this.all_shortcuts[e]={callback:i,target:r,event:o.type},r.addEventListener?r.addEventListener(o.type,i,!1):r.attachEvent?r.attachEvent("on"+o.type,i):r["on"+o.type]=i},remove:function(e){e=e.toLowerCase();let t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],!t)return;let o=t.event,n=t.target,r=t.callback;n.detachEvent?n.detachEvent("on"+o,r):n.removeEventListener?n.removeEventListener(o,r,!1):n["on"+o]=!1}};t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t="start"){if(!e||"function"!=typeof e)return;let o,n=function(t){window.clearTimeout(o),o=setTimeout((function(){e()}),250)};"start"==t?window.addEventListener("scroll",n,!1):window.removeEventListener("scroll",n,!1)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(8);class r{constructor(){}hookColor(e){this.color=e.color,this.x=e.x,this.y=e.y}hookDeactivate(e){this.el.remove()}hookShow(e){this.el.style.display=""}hookHide(e){this.el.style.display="none"}}class i extends r{constructor(){super(),this.el=n.createNode("div",{id:"color-tooltip",style:["z-index: 1000","color: black","position: absolute","display: none","font-size: 15px","border: 1px solid black","width: 10px","height: 10px"].join(";")})}hookColor(e){super.hookColor(e);const t=Math.round(document.documentElement.scrollTop),o=Math.round(document.documentElement.scrollLeft);let n=e.y-t>e.screenHeight/2?-15:20,r=e.x-o<e.screenWidth/2?15:-30;this.el.style.backgroundColor="#"+e.color.rgbhex,this.el.style.borderColor="#"+e.color.opposite,this.el.style.top=e.y+n+"px",this.el.style.left=e.x+r+"px"}}class s extends r{constructor(){super(),this.el=n.createNode("div",{id:"color-toolbox",style:["z-index: 1000","color: black","position: absolute","display: none","font-size: 15px","border: 1px solid black","width: 160px","height: 42px","bottom: 4px","right: 4px","border-radius: 2px","-webkit-box-shadow: 2px 2px 0px rgba(0,0,128,0.25)","background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#0f0f0f), to(#3f3f3f))","color: white","font-family: monospace","border: 1px solid transparent","position: fixed"].join(";")}),this.elColor=n.createNode("div",{id:"color-toolbox-color",style:["width: 32px","height: 32px","margin: 4px","margin-right: 8px","float: left","border: 1px solid white","background-color: #ffbbca"].join(";")}),this.elText=n.createNode("div",{id:"color-toolbox-text",style:["font-size: 11px","padding: 5px 0px","overflow: hidden","text-align: center","color: white"].join(";")}),this.el.append(this.elColor),this.el.append(this.elText)}hookColor(e){super.hookColor(e);this.elText.innerHTML=`#${this.color.rgbhex}<br/>rgb(${this.color.r},${this.color.g},${this.color.b})`,this.elColor.style.backgroundColor="#"+this.color.rgbhex}}t.default=class{constructor(e){this.tools=[],this.cursor=e.cursor,e.enableToolbox&&(this._toolbox=new s,this.tools.push(this._toolbox)),e.enableTooltip&&(this._tooltip=new i,this.tools.push(this._tooltip)),this.el=n.createNode("div",{id:"eye-dropper-overlay",style:["position: absolute",`width: ${e.width}px`,`height: ${e.height}px`,"opacity: 1","background: none","border: none","z-index: 5000"].join(";")});for(let e of this.tools)this.el.append(e.el);document.body.prepend(this.el)}hook(e,t){for(let o of this.tools)o[e](t)}screenshoting(e){e?(this.hook("hookHide",{}),this.el.style.cursor="progress"):(this.hook("hookShow",{}),this.el.style.cursor=this.cursor)}resized(e){this.el.style.width=e.width+"px",this.el.style.height=e.height+"px"}deactivate(){this.hook("hookDeactivate",{}),this.el.remove()}tooltip(e){this.hook("hookColor",e)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNode=function(e,t){const o=document.createElement(e);for(let e in t)o.setAttribute(e,t[e]);return o}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t,o,n){this.left=e,this.top=t,this.right=e+o,this.bottom=t+n,this.width=o,this.height=n}transposed(){return new n(this.top,this.left,this.height,this.width)}contains(e){return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom}horizontalMerge(e){const t=this.transposed(),o=e.transposed(),n=t.verticalMerge(o);return null===n?null:n.transposed()}verticalMerge(e){let t=this,o=e;return this.top>e.top&&([t,o]=[o,t]),t.bottom>=o.top&&t.bottom<=o.bottom?new n(t.left,t.top,t.right-t.left,o.bottom-t.top):null}merge(e){return this.left==e.left&&this.right==e.right?this.verticalMerge(e):this.top==e.top&&this.bottom==e.bottom?this.horizontalMerge(e):null}toString(){return`Rect(${this.width}x${this.height})@${this.left},${this.top}`}}t.default=n}]);